##############################
### Japan Scripted Effects ###
### By Zankoas and ~mw~    ###
##############################

JAP_fading_sun = {
	hidden_effect = {
		if = {
			limit = {
				NOT = { has_global_flag = JAP_Fading_Sun }
			}
			set_global_flag = JAP_Fading_Sun
			log = "KR_Event_Logging;JAPAN FADING SUN;[GetDateText];[ROOT.GetName];[FROM.GetName]"
			# fire country-specific events
			TRM = { country_event = tram.106 }

			# clear imperial ideas
			JAP = {
				remove_ideas = {
					JAP_rising_sun_idea_1
					JAP_rising_sun_idea_2
					JAP_rising_sun_idea_3
					japan_NSA_act
					JAP_imperial_gov
					Fund_Adjustment_Ordinance
					National_Total_Mobilisation_Ordinance_1
					National_Total_Mobilisation_Ordinance_2
					National_Service_Draft_Ordinance_1
					National_Service_Draft_Ordinance_2
					JAP_yokuseiha_idea_1
					JAP_yokuseiha_idea_2
					JAP_yokuseiha_idea_3
					JAP_yokuseiha_idea_4
					JAP_kodoha_idea_1
					JAP_kodoha_idea_2
					JAP_kodoha_idea_3
					JAP_Kakushinha_idea_1
					JAP_Kakushinha_idea_2
					JAP_Kakushinha_idea_3
					JAP_Kakushinha_idea_4
					JAP_chinese_manpower_idea
					JAP_three_alls_idea
					JAP_ichigo
					JAP_MANTETSU_COLLAPSE
					JAP_COL_PREP
				}

				if = {
					limit = { exists = yes }
					every_country = {
						limit = {
							OR = {
								is_guaranteed_by = PREV
								is_subject_of = PREV
								has_non_aggression_pact_with = PREV
								has_military_access_to = PREV
								gives_military_access_to = PREV
							}
						}
						diplomatic_relation = {
							country = JAP
							relation = military_access
							active = no
						}
						JAP = {
							if = {
								limit = { has_subject = PREV }
								set_autonomy = {
									target = PREV
									autonomy_state = autonomy_free
								}
							}
							diplomatic_relation = {
								country = PREV
								relation = guarantee
								active = no
							}
							diplomatic_relation = {
								country = PREV
								relation = non_aggression_pact
								active = no
							}
							diplomatic_relation = {
								country = PREV
								relation = military_access
								active = no
							}
						}
					}
				}
			}

			# clear cores, claims and ambitions outside the Home Islands
			every_state = {
				limit = {
					NOT = {
						region = 154 #Home Islands
						state = 526 #Okinawa
						state = 537 #Sakhalin
						state = 555 #Kurils
						state = 645 #Iwo Jima
						state = 648 #Marcus Island
					}
				}
				remove_core_of = JAP
				remove_claim_by = JAP
				clear_variable = ambition_area_@JAP
			}

			JAP_close_all = yes

			# end the economic sphere
			every_country = {
				limit = { is_in_array = { global.asian_economic_sphere = THIS } }
				country_event = japfor.404
			}
			if = {
				limit = { has_dynamic_modifier = { modifier = JAP_asian_economic_sphere } }
				remove_dynamic_modifier = { modifier = JAP_asian_economic_sphere }
			}
			clear_array = global.asian_economic_sphere
			clear_variable = global.sphere_industry_boost
			clear_variable = global.sphere_goods_boost
			clear_variable = global.sphere_resources_boost_member
			clear_variable = global.sphere_goods_boost_member

			# end the research group
			every_country = {
				limit = { is_in_tech_sharing_group = japan_research }
				remove_from_tech_sharing_group = japan_research
			}
		}
	}
}

#####################################
### Army / Navy Dominance effects ###
#####################################

JAP_increase_naval_bias = {
	if = {
		limit = {
			check_variable = {
				naval_bias > army_bias
			}
		}
		custom_effect_tooltip = JAP_increase_naval_bias_loc
	}

	hidden_effect = {
		if = {
			limit = {
				OR = {
					has_idea = JAP_slight_naval_bias
					has_idea = JAP_strong_naval_bias
				}
				check_variable = {
					army_bias > 4
				}
			}
			remove_ideas = {
				JAP_slight_naval_bias
				JAP_strong_naval_bias
			}
		}

		else_if = {
			limit = {
				check_variable = {
					naval_bias > 8
				}
			}
			remove_ideas = {
				JAP_slight_army_bias
				JAP_strong_army_bias
			}
			else = {
				add_to_variable = {
					var = naval_bias
					value = 1
				}
				set_variable = {
					naval_bias_plus = naval_bias
				}
				add_to_variable = {
					naval_bias_plus = 2
				}

				set_variable = {
					army_bias_plus = army_bias
				}
				add_to_variable = {
					army_bias_plus = 1
				}

				set_variable = {
					army_bias_doubleplus = army_bias
				}
				add_to_variable = {
					army_bias_doubleplus = 3
				}

				if = {
					limit = {
						has_idea = JAP_strong_army_bias
						check_variable = {
							army_bias < naval_bias_plus
						}
					}
					JAP_remove_all_bias = yes
					add_ideas = JAP_slight_army_bias
				}

				if = {
					limit = {
						check_variable = {
							naval_bias > army_bias_doubleplus
						}
					}
					JAP_remove_all_bias = yes
					add_ideas = JAP_strong_naval_bias
				}

				else_if = {
					limit = {
						check_variable = {
							naval_bias > army_bias_plus
						}
					}
					JAP_remove_all_bias = yes
					add_ideas = JAP_slight_naval_bias
					country_event = japdom.236
				}

				else_if = {
					limit = {
						OR = {
							check_variable = {
								naval_bias = army_bias
							}
						}
					}
					JAP_remove_all_bias = yes
					add_ideas = JAP_no_bias
				}
			}
		}
	}
}

JAP_increase_army_bias = {
	if = {
		limit = {
			check_variable = {
				army_bias > naval_bias
			}
		}
		custom_effect_tooltip = JAP_increase_army_bias_loc
	}

	hidden_effect = {
		if = {
			limit = {
				OR = {
					has_idea = JAP_slight_army_bias
					has_idea = JAP_strong_army_bias
				}
				check_variable = {
					naval_bias > 8
				}
			}
			remove_ideas = {
				JAP_slight_army_bias
				JAP_strong_army_bias
			}
		}

		else_if = {
			limit = {
				check_variable = {
					army_bias > 4
				}
			}
			remove_ideas = {
				JAP_slight_naval_bias
				JAP_strong_naval_bias
			}
			else = {
				add_to_variable = {
					var = army_bias
					value = 1
				}
				set_variable = {
					army_bias_plus = army_bias
				}
				add_to_variable = {
					army_bias_plus = 2
				}

				set_variable = {
					naval_bias_plus = naval_bias
				}
				add_to_variable = {
					naval_bias_plus = 1
				}

				set_variable = {
					naval_bias_doubleplus = naval_bias
				}
				add_to_variable = {
					naval_bias_doubleplus = 3
				}

				if = {
					limit = {
						has_idea = JAP_strong_naval_bias
						check_variable = {
							naval_bias < army_bias_plus
						}
					}
					JAP_remove_all_bias = yes
					add_ideas = JAP_slight_naval_bias
				}

				if = {
					limit = {
						check_variable = {
							army_bias > naval_bias_doubleplus
						}
					}
					JAP_remove_all_bias = yes
					add_ideas = JAP_strong_army_bias
				}

				else_if = {
					limit = {
						check_variable = {
							army_bias > naval_bias_plus
						}
					}
					JAP_remove_all_bias = yes
					add_ideas = JAP_slight_army_bias
					country_event = japdom.237
				}

				else_if = {
					limit = {
						check_variable = {
							naval_bias = army_bias
						}
					}
					JAP_remove_all_bias = yes
					add_ideas = JAP_no_bias
				}
			}
		}
	}
}

JAP_remove_all_bias = {
	hidden_effect = {
		remove_ideas = {
			JAP_no_bias
			JAP_slight_naval_bias
			JAP_strong_naval_bias
			JAP_slight_army_bias
			JAP_strong_army_bias
		}
	}
}

JAP_recalculate_economic_integration = {
	hidden_effect = {
		set_variable = { global.var_sphere_factories = 0 }
		for_each_scope_loop = {
			array = global.asian_economic_sphere
			add_to_variable = { global.var_sphere_factories = THIS.num_of_civilian_factories }
		}

		#Japan's industry boost
		set_variable = { global.sphere_industry_boost = global.var_sphere_factories }
		clamp_variable = { var = global.sphere_industry_boost max = 60 min = 0 }
		multiply_variable = { global.sphere_industry_boost = 0.5 }
		multiply_variable = { global.sphere_industry_boost = 0.01 }

		#Japan's consumer goods boost
		set_variable = { global.sphere_goods_boost = global.var_sphere_factories }
		clamp_variable = { var = global.sphere_goods_boost max = 100 min = 0 }
		multiply_variable = { global.sphere_goods_boost = 1.5 }
		multiply_variable = { global.sphere_goods_boost = -0.001 }

		#Member's consumer goods boost
		set_variable = { global.sphere_goods_boost_member = global.var_sphere_factories }
		add_to_variable = { global.sphere_goods_boost_member = JAP.num_of_civilian_factories }
		clamp_variable = { var = global.sphere_goods_boost_member max = 100 min = 0 }
		multiply_variable = { global.sphere_goods_boost_member = -0.001 }

		#Member's resources boost
		set_variable = { global.sphere_resources_boost_member = global.var_sphere_factories }
		add_to_variable = { global.sphere_resources_boost_member = JAP.num_of_civilian_factories }
		clamp_variable = { var = global.sphere_resources_boost_member max = 100 min = 0 }
		multiply_variable = { global.sphere_resources_boost_member = 0.002 }
	}
}

JAP_increase_chinese_war_effort = {
	if = {
		limit = { has_idea = JAP_chinese_war_effort_1 }
		swap_ideas = {
			remove_idea = JAP_chinese_war_effort_1
			add_idea = JAP_chinese_war_effort_2
		}
		hidden_effect = {
			set_global_flag = JAP_chinese_resistance_active
			JAP_increase_chinese_resistance = yes
			every_enemy_country = {
				limit = { is_chinese_tag = yes }
				country_event = japfor.600
				every_owned_state = {
					limit = { controller = { is_ally_with = JAP } }
					add_dynamic_modifier = { modifier = JAP_chinese_resistance }
					add_to_array = { global.JAP_chinese_resistance_states = THIS }
				}
			}
			country_event = japfor.601
		}
	}
	else_if = {
		limit = { has_idea = JAP_chinese_war_effort_2 }
		swap_ideas = {
			remove_idea = JAP_chinese_war_effort_2
			add_idea = JAP_chinese_war_effort_3
		}
		JAP_increase_chinese_resistance = yes
		hidden_effect = {
			every_enemy_country = {
				limit = {
					is_chinese_tag = yes
					any_owned_state = { controller = { is_ally_with = JAP } }
				}
				country_event = japfor.602
			}
		}
	}
	else_if = {
		limit = { has_idea = JAP_chinese_war_effort_3 }
		swap_ideas = {
			remove_idea = JAP_chinese_war_effort_3
			add_idea = JAP_chinese_war_effort_4
		}
		JAP_increase_chinese_resistance = yes
		hidden_effect = {
			every_enemy_country = {
				limit = {
					is_chinese_tag = yes
					any_owned_state = { controller = { is_ally_with = JAP } }
				}
				country_event = japfor.602
			}
		}
	}
	else_if = {
		limit = { has_idea = JAP_chinese_war_effort_4 }
		swap_ideas = {
			remove_idea = JAP_chinese_war_effort_4
			add_idea = JAP_chinese_war_effort_5
		}
		JAP_increase_chinese_resistance = yes
		hidden_effect = {
			every_enemy_country = {
				limit = {
					is_chinese_tag = yes
					any_owned_state = { controller = { is_ally_with = JAP } }
				}
				country_event = japfor.602
			}
		}
	}
	else_if = {
		limit = { has_idea = JAP_chinese_war_effort_5 }
		remove_ideas = JAP_chinese_war_effort_5
		clr_country_flag = JAP_chinese_war_effort
		JAP_increase_chinese_resistance = yes
		hidden_effect = {
			every_enemy_country = {
				limit = {
					is_chinese_tag = yes
					any_owned_state = { controller = { is_ally_with = JAP } }
				}
				country_event = japfor.602
			}
		}
	}
}

JAP_increase_chinese_resistance = {
	custom_effect_tooltip = JAP_increase_chinese_resistance
	add_to_variable = {
		global.JAP_chinese_resistance_compliance = -0.01
		tooltip = JAP_chinese_resistance_compliance
	}
	add_to_variable = {
		global.JAP_chinese_resistance_growth = 0.05
		tooltip = JAP_chinese_resistance_growth
	}
	add_to_variable = {
		global.JAP_chinese_resistance_target = 0.1
		tooltip = JAP_chinese_resistance_target
	}
	add_to_variable = {
		global.JAP_chinese_resistance_attrition = 0.05
		tooltip = JAP_chinese_resistance_attrition
	}
}

JAP_disable_chinese_resistance_on_country = {
	custom_effect_tooltip = JAP_chinese_war_effort_end_tt
	every_owned_state = {
		limit = { has_dynamic_modifier = { modifier = JAP_chinese_resistance } }
		remove_dynamic_modifier = { modifier = JAP_chinese_resistance }
		if = {
			limit = { is_in_array = { JAP_chinese_resistance_states = THIS } }
			remove_from_array = { JAP_chinese_resistance_states = THIS }
		}
	}
	if = {
		limit = { check_variable = { JAP_chinese_resistance_states^num < 1 } }
		clear_array = global.JAP_chinese_resistance_states
		clr_global_flag = JAP_chinese_resistance_active
		clear_variable = global.JAP_chinese_resistance_compliance
		clear_variable = global.JAP_chinese_resistance_growth
		clear_variable = global.JAP_chinese_resistance_target
		clear_variable = global.JAP_chinese_resistance_attrition
	}
}

### Targeted Decisions
JAP_open_JAP_land_reform = {
	activate_targeted_decision = { target = THIS decision = JAP_land_reform_1 }
	activate_targeted_decision = { target = THIS decision = JAP_land_reform_2 }
	activate_targeted_decision = { target = THIS decision = JAP_land_reform_3 }
	activate_targeted_decision = { target = THIS decision = JAP_land_adjustment }
	activate_targeted_decision = { target = THIS decision = JAP_rent_control }
	activate_targeted_decision = { target = THIS decision = JAP_agriculture_land_control }
	activate_targeted_decision = { target = THIS decision = JAP_finish_land_reform }
}

JAP_close_JAP_land_reform = {
	remove_targeted_decision = { target = THIS decision = JAP_land_reform_1 }
	remove_targeted_decision = { target = THIS decision = JAP_land_reform_2 }
	remove_targeted_decision = { target = THIS decision = JAP_land_reform_3 }
	remove_targeted_decision = { target = THIS decision = JAP_land_adjustment }
	remove_targeted_decision = { target = THIS decision = JAP_rent_control }
	remove_targeted_decision = { target = THIS decision = JAP_agriculture_land_control }
	remove_targeted_decision = { target = THIS decision = JAP_finish_land_reform }
}

JAP_open_JAP_influence_china_JAP_support_allies = {
	# JAP_china_army_training
	activate_targeted_decision = { target = FNG decision = JAP_china_army_training }
	activate_targeted_decision = { target = ANQ decision = JAP_china_army_training }
	activate_targeted_decision = { target = GXC decision = JAP_china_army_training }
	activate_targeted_decision = { target = SHX decision = JAP_china_army_training }
	activate_targeted_decision = { target = SQI decision = JAP_china_army_training }
	activate_targeted_decision = { target = SZC decision = JAP_china_army_training }
	activate_targeted_decision = { target = XSM decision = JAP_china_army_training }
	# JAP_china_army_training
	activate_targeted_decision = { target = FNG decision = JAP_provide_arms_facilities }
	activate_targeted_decision = { target = ANQ decision = JAP_provide_arms_facilities }
	activate_targeted_decision = { target = GXC decision = JAP_provide_arms_facilities }
	activate_targeted_decision = { target = SHX decision = JAP_provide_arms_facilities }
	activate_targeted_decision = { target = SQI decision = JAP_provide_arms_facilities }
	activate_targeted_decision = { target = SZC decision = JAP_provide_arms_facilities }
	activate_targeted_decision = { target = XSM decision = JAP_provide_arms_facilities }
	# JAP_support_offensive
	activate_targeted_decision = { target = FNG decision = JAP_support_offensive }
	activate_targeted_decision = { target = ANQ decision = JAP_support_offensive }
	activate_targeted_decision = { target = GXC decision = JAP_support_offensive }
	activate_targeted_decision = { target = SHX decision = JAP_support_offensive }
	activate_targeted_decision = { target = SQI decision = JAP_support_offensive }
	activate_targeted_decision = { target = SZC decision = JAP_support_offensive }
	activate_targeted_decision = { target = XSM decision = JAP_support_offensive }
	# JAP_provide_planes
	activate_targeted_decision = { target = FNG decision = JAP_provide_planes }
	activate_targeted_decision = { target = ANQ decision = JAP_provide_planes }
	activate_targeted_decision = { target = GXC decision = JAP_provide_planes }
	activate_targeted_decision = { target = SHX decision = JAP_provide_planes }
	activate_targeted_decision = { target = SQI decision = JAP_provide_planes }
	activate_targeted_decision = { target = SZC decision = JAP_provide_planes }
	activate_targeted_decision = { target = XSM decision = JAP_provide_planes }
}

JAP_open_JAP_influence_china_JAP_sow_chaos = {
	# support_chinese_seperatists
	activate_targeted_decision = { target = TIB decision = support_chinese_seperatists }
	activate_targeted_decision = { target = ETS decision = support_chinese_seperatists }
	activate_targeted_decision = { target = MON decision = support_chinese_seperatists }
	activate_targeted_decision = { target = KAC decision = support_chinese_seperatists }
	activate_targeted_decision = { target = SHA decision = support_chinese_seperatists }
	activate_targeted_decision = { target = SIA decision = support_chinese_seperatists }
	activate_targeted_decision = { target = BRM decision = support_chinese_seperatists }
	# send_ETS_tartar_guy
	activate_targeted_decision = { target = ETS decision = send_ETS_tartar_guy }
	# arms_factories_to_weaker_chinese_tags
	activate_targeted_decision = { target = CHI decision = arms_factories_to_weaker_chinese_tags }
	activate_targeted_decision = { target = GXC decision = arms_factories_to_weaker_chinese_tags }
	activate_targeted_decision = { target = HNN decision = arms_factories_to_weaker_chinese_tags }
	activate_targeted_decision = { target = SZC decision = arms_factories_to_weaker_chinese_tags }
	activate_targeted_decision = { target = SIK decision = arms_factories_to_weaker_chinese_tags }
	activate_targeted_decision = { target = XSM decision = arms_factories_to_weaker_chinese_tags }
	activate_targeted_decision = { target = SQI decision = arms_factories_to_weaker_chinese_tags }
	activate_targeted_decision = { target = SHX decision = arms_factories_to_weaker_chinese_tags }
	activate_targeted_decision = { target = YUN decision = arms_factories_to_weaker_chinese_tags }
	# bailout_weak_tags
	activate_targeted_decision = { target = CHI decision = bailout_weak_tags }
	activate_targeted_decision = { target = GXC decision = bailout_weak_tags }
	activate_targeted_decision = { target = HNN decision = bailout_weak_tags }
	activate_targeted_decision = { target = SZC decision = bailout_weak_tags }
	activate_targeted_decision = { target = SIK decision = bailout_weak_tags }
	activate_targeted_decision = { target = XSM decision = bailout_weak_tags }
	activate_targeted_decision = { target = SQI decision = bailout_weak_tags }
	activate_targeted_decision = { target = SHX decision = bailout_weak_tags }
	activate_targeted_decision = { target = YUN decision = bailout_weak_tags }
}

JAP_open_JAP_mantetsu_projects = {
	# develop_fengtian
	activate_targeted_decision = { target = FNG decision = develop_fengtian }
	# develop_generic_tag
	activate_targeted_decision = { target = ANQ decision = develop_generic_tag }
	activate_targeted_decision = { target = GXC decision = develop_generic_tag }
	activate_targeted_decision = { target = SHX decision = develop_generic_tag }
	activate_targeted_decision = { target = SQI decision = develop_generic_tag }
	activate_targeted_decision = { target = SZC decision = develop_generic_tag }
	activate_targeted_decision = { target = XSM decision = develop_generic_tag }
	# minor_railroad_investment
	activate_targeted_decision = { target = ANQ decision = minor_railroad_investment }
	activate_targeted_decision = { target = GXC decision = minor_railroad_investment }
	activate_targeted_decision = { target = SHX decision = minor_railroad_investment }
	activate_targeted_decision = { target = SQI decision = minor_railroad_investment }
	activate_targeted_decision = { target = SZC decision = minor_railroad_investment }
	activate_targeted_decision = { target = XSM decision = minor_railroad_investment }
	# harbin_chemical_research
	activate_targeted_decision = { target = FNG decision = harbin_chemical_research }
	# changchun_industry_investment
	activate_targeted_decision = { target = FNG decision = changchun_industry_investment }
}

JAP_open_JAP_co_prosperity_decisions_JAP_tokyo_conference = {
	for_each_scope_loop = {
		array = global.JAP_possible_allies_array
		FROM = { activate_targeted_decision = { target = PREV decision = JAP_invite_into_faction } }
	}
}

JAP_open_JAP_co_prosperity_decisions_JAP_osaka_conference = {
	# JAP_invite_into_economic_sphere :tester:
	activate_targeted_decision = { target = ANQ decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = ASM decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = AST decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = BNG decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = BOM decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = BRM decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = CAM decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = CEY decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = ETS decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = MAN decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = FNG decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = GUJ decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = GXC decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = HAW decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = HND decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = HYD decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = INC decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = INS decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = KAC decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = KAS decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = KOR decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = LAO decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = LEC decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = MAL decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = MDR decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = MON decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = MYS decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = NZL decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = ORI decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = PAK decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = PHI decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = PJB decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = PNG decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = PRF decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = RJS decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = SAR decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = SHA decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = SHX decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = SIA decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = SQI decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = SZC decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = TIB decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = TRM decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = TRV decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = XSM decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = VIN decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = NEP decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = AFG decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = ALO decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = TRK decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = BUK decision = JAP_invite_into_economic_sphere }
	activate_targeted_decision = { target = KHI decision = JAP_invite_into_economic_sphere }
}

JAP_close_all = {
	### > JAP_close_JAP_land_reform < ###
	remove_targeted_decision = { target = THIS decision = JAP_land_reform_1 }
	remove_targeted_decision = { target = THIS decision = JAP_land_reform_2 }
	remove_targeted_decision = { target = THIS decision = JAP_land_reform_3 }
	remove_targeted_decision = { target = THIS decision = JAP_land_adjustment }
	remove_targeted_decision = { target = THIS decision = JAP_rent_control }
	remove_targeted_decision = { target = THIS decision = JAP_agriculture_land_control }
	remove_targeted_decision = { target = THIS decision = JAP_finish_land_reform }

	### > JAP_open_JAP_influence_china_JAP_support_allies < ###
	# JAP_china_army_training
	remove_targeted_decision = { target = FNG decision = JAP_china_army_training }
	remove_targeted_decision = { target = ANQ decision = JAP_china_army_training }
	remove_targeted_decision = { target = GXC decision = JAP_china_army_training }
	remove_targeted_decision = { target = SHX decision = JAP_china_army_training }
	remove_targeted_decision = { target = SQI decision = JAP_china_army_training }
	remove_targeted_decision = { target = SZC decision = JAP_china_army_training }
	remove_targeted_decision = { target = XSM decision = JAP_china_army_training }
	# JAP_china_army_training
	remove_targeted_decision = { target = FNG decision = JAP_provide_arms_facilities }
	remove_targeted_decision = { target = ANQ decision = JAP_provide_arms_facilities }
	remove_targeted_decision = { target = GXC decision = JAP_provide_arms_facilities }
	remove_targeted_decision = { target = SHX decision = JAP_provide_arms_facilities }
	remove_targeted_decision = { target = SQI decision = JAP_provide_arms_facilities }
	remove_targeted_decision = { target = SZC decision = JAP_provide_arms_facilities }
	remove_targeted_decision = { target = XSM decision = JAP_provide_arms_facilities }
	# JAP_support_offensive
	remove_targeted_decision = { target = FNG decision = JAP_support_offensive }
	remove_targeted_decision = { target = ANQ decision = JAP_support_offensive }
	remove_targeted_decision = { target = GXC decision = JAP_support_offensive }
	remove_targeted_decision = { target = SHX decision = JAP_support_offensive }
	remove_targeted_decision = { target = SQI decision = JAP_support_offensive }
	remove_targeted_decision = { target = SZC decision = JAP_support_offensive }
	remove_targeted_decision = { target = XSM decision = JAP_support_offensive }
	# JAP_provide_planes
	remove_targeted_decision = { target = FNG decision = JAP_provide_planes }
	remove_targeted_decision = { target = ANQ decision = JAP_provide_planes }
	remove_targeted_decision = { target = GXC decision = JAP_provide_planes }
	remove_targeted_decision = { target = SHX decision = JAP_provide_planes }
	remove_targeted_decision = { target = SQI decision = JAP_provide_planes }
	remove_targeted_decision = { target = SZC decision = JAP_provide_planes }
	remove_targeted_decision = { target = XSM decision = JAP_provide_planes }

	### > JAP_open_JAP_influence_china_JAP_sow_chaos < ###
	# support_chinese_seperatists
	remove_targeted_decision = { target = TIB decision = support_chinese_seperatists }
	remove_targeted_decision = { target = ETS decision = support_chinese_seperatists }
	remove_targeted_decision = { target = MON decision = support_chinese_seperatists }
	remove_targeted_decision = { target = KAC decision = support_chinese_seperatists }
	remove_targeted_decision = { target = SHA decision = support_chinese_seperatists }
	remove_targeted_decision = { target = SIA decision = support_chinese_seperatists }
	remove_targeted_decision = { target = BRM decision = support_chinese_seperatists }
	# send_ETS_tartar_guy
	remove_targeted_decision = { target = ETS decision = send_ETS_tartar_guy }
	# arms_factories_to_weaker_chinese_tags
	remove_targeted_decision = { target = CHI decision = arms_factories_to_weaker_chinese_tags }
	remove_targeted_decision = { target = GXC decision = arms_factories_to_weaker_chinese_tags }
	remove_targeted_decision = { target = HNN decision = arms_factories_to_weaker_chinese_tags }
	remove_targeted_decision = { target = SZC decision = arms_factories_to_weaker_chinese_tags }
	remove_targeted_decision = { target = SIK decision = arms_factories_to_weaker_chinese_tags }
	remove_targeted_decision = { target = XSM decision = arms_factories_to_weaker_chinese_tags }
	remove_targeted_decision = { target = SQI decision = arms_factories_to_weaker_chinese_tags }
	remove_targeted_decision = { target = SHX decision = arms_factories_to_weaker_chinese_tags }
	remove_targeted_decision = { target = YUN decision = arms_factories_to_weaker_chinese_tags }
	# bailout_weak_tags
	remove_targeted_decision = { target = CHI decision = bailout_weak_tags }
	remove_targeted_decision = { target = GXC decision = bailout_weak_tags }
	remove_targeted_decision = { target = HNN decision = bailout_weak_tags }
	remove_targeted_decision = { target = SZC decision = bailout_weak_tags }
	remove_targeted_decision = { target = SIK decision = bailout_weak_tags }
	remove_targeted_decision = { target = XSM decision = bailout_weak_tags }
	remove_targeted_decision = { target = SQI decision = bailout_weak_tags }
	remove_targeted_decision = { target = SHX decision = bailout_weak_tags }
	remove_targeted_decision = { target = YUN decision = bailout_weak_tags }

	### > JAP_open_JAP_mantetsu_projects < ###
	# develop_fengtian
	remove_targeted_decision = { target = FNG decision = develop_fengtian }
	# major_railroad_investment
	remove_targeted_decision = { target = ANQ decision = major_railroad_investment }
	remove_targeted_decision = { target = GXC decision = major_railroad_investment }
	remove_targeted_decision = { target = SHX decision = major_railroad_investment }
	remove_targeted_decision = { target = SQI decision = major_railroad_investment }
	remove_targeted_decision = { target = SZC decision = major_railroad_investment }
	remove_targeted_decision = { target = XSM decision = major_railroad_investment }
	# minor_railroad_investment
	remove_targeted_decision = { target = ANQ decision = minor_railroad_investment }
	remove_targeted_decision = { target = GXC decision = minor_railroad_investment }
	remove_targeted_decision = { target = SHX decision = minor_railroad_investment }
	remove_targeted_decision = { target = SQI decision = minor_railroad_investment }
	remove_targeted_decision = { target = SZC decision = minor_railroad_investment }
	remove_targeted_decision = { target = XSM decision = minor_railroad_investment }
	# harbin_chemical_research
	remove_targeted_decision = { target = FNG decision = harbin_chemical_research }
	# changchun_industry_investment
	remove_targeted_decision = { target = FNG decision = changchun_industry_investment }

	### > JAP_open_JAP_co_prosperity_decisions < ###
	for_each_scope_loop = {
		array = global.JAP_possible_allies_array
		PREV = { remove_targeted_decision = { target = PREV decision = JAP_invite_into_faction } }
	}

	### > JAP_open_JAP_co_prosperity_decisions_JAP_osaka_conference < ###
	# JAP_invite_into_economic_sphere :tester:
	remove_targeted_decision = { target = ANQ decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = ASM decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = AST decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = BNG decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = BOM decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = BRM decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = CAM decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = CEY decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = ETS decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = MAN decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = FNG decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = GUJ decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = GXC decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = HAW decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = HND decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = HYD decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = INC decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = INS decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = KAC decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = KAS decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = KOR decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = LAO decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = LEC decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = MAL decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = MDR decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = MON decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = MYS decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = NZL decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = ORI decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = PAK decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = PHI decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = PJB decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = PNG decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = PRF decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = RJS decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = SAR decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = SHA decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = SHX decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = SIA decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = SQI decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = SZC decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = TIB decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = TRM decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = TRV decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = XSM decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = VIN decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = NEP decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = AFG decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = ALO decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = TRK decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = BUK decision = JAP_invite_into_economic_sphere }
	remove_targeted_decision = { target = KHI decision = JAP_invite_into_economic_sphere }

	### > JAP_open_JAP_co_prosperity_decisions < ###
	for_each_scope_loop = {
		array = global.asian_economic_sphere
		FROM = {
			remove_targeted_decision = { target = PREV decision = JAP_invest_in_sphere_member1 }
			remove_targeted_decision = { target = PREV decision = JAP_invest_in_sphere_member2 }
			remove_targeted_decision = { target = PREV decision = JAP_invest_in_sphere_member3 }
			remove_targeted_decision = { target = PREV decision = JAP_economic_sphere_takeover }
			remove_targeted_decision = { target = PREV decision = JAP_invest_in_sphere_member_docks }
			remove_targeted_decision = { target = PREV decision = JAP_invest_in_sphere_naval_advisors }
			remove_targeted_decision = { target = PREV decision = JAP_invest_in_sphere_prosperity_ships }
			remove_targeted_decision = { target = PREV decision = JAP_invest_in_sphere_take_dockyards }
		}
		remove_targeted_decision = { target = JAP decision = JAP_join_rikagaku_kenkyusho }
		remove_targeted_decision = { target = JAP decision = JAP_request_nav_advisors }
		remove_targeted_decision = { target = JAP decision = JAP_withdraw_from_sphere }
		# JAP_nationalize_japanese_investments handled through on_remove in ideas
	}
	every_country = {
		limit = { is_in_faction_with = JAP }
		remove_targeted_decision = { target = JAP decision = JAP_withdraw_from_alliance }
	}

	### > operations < ###
	remove_targeted_decision = { target = PHI decision = JAP_threaten_philippines }
	remove_targeted_decision = { target = INC decision = JAP_attack_indochina }
	remove_targeted_decision = { target = VIN decision = JAP_attack_indochina }
	remove_targeted_decision = { target = LAO decision = JAP_attack_indochina }
	remove_targeted_decision = { target = CAM decision = JAP_attack_indochina }
	remove_targeted_decision = { target = SIA decision = JAP_attack_siam }
	remove_targeted_decision = { target = ASM decision = JAP_attack_india }
	remove_targeted_decision = { target = BNG decision = JAP_attack_india }
	remove_targeted_decision = { target = BOM decision = JAP_attack_india }
	remove_targeted_decision = { target = CEY decision = JAP_attack_india }
	remove_targeted_decision = { target = GUJ decision = JAP_attack_india }
	remove_targeted_decision = { target = HND decision = JAP_attack_india }
	remove_targeted_decision = { target = HYD decision = JAP_attack_india }
	remove_targeted_decision = { target = KAS decision = JAP_attack_india }
	remove_targeted_decision = { target = MDR decision = JAP_attack_india }
	remove_targeted_decision = { target = MYS decision = JAP_attack_india }
	remove_targeted_decision = { target = ORI decision = JAP_attack_india }
	remove_targeted_decision = { target = PAK decision = JAP_attack_india }
	remove_targeted_decision = { target = PJB decision = JAP_attack_india }
	remove_targeted_decision = { target = PRF decision = JAP_attack_india }
	remove_targeted_decision = { target = RAJ decision = JAP_attack_india }
	remove_targeted_decision = { target = RJS decision = JAP_attack_india }
	remove_targeted_decision = { target = BRM decision = JAP_attack_india }
	remove_targeted_decision = { target = NEP decision = JAP_attack_india }
	remove_targeted_decision = { target = SHA decision = JAP_attack_india }
	remove_targeted_decision = { target = KAC decision = JAP_attack_india }
	remove_targeted_decision = { target = AST decision = JAP_attack_australia }
	remove_targeted_decision = { target = NZL decision = JAP_attack_australia }
	remove_targeted_decision = { target = FNG decision = JAP_invade_manchuria }
}
